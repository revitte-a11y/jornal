<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voz do Estudante - Notícia</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { padding-top: 80px; line-height: 1.8; transition: background 0.3s; }
        .noticia-capa { max-height: 500px; object-fit: cover; width: 100%; border-radius: 15px; }
        /* Garantir que o texto longo não quebre o layout */
        #corpo-noticia { white-space: pre-wrap; }
    </style>
</head>
<body>

    <nav class="navbar navbar-dark bg-dark fixed-top">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html">← Voltar para o Jornal</a>
        </div>
    </nav>

    <main class="container my-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <span id="cat-noticia" class="badge bg-primary mb-2"></span>
                <h1 id="titulo-noticia" class="display-4 fw-bold mb-4"></h1>
                <img id="img-noticia" src="" class="noticia-capa shadow mb-4 d-none"> <div id="corpo-noticia" class="fs-5"></div>
            </div>
        </div>
    </main>

    <script src="dados.js"></script>

    <script>
        // Pega o ID da URL
        const urlParams = new URLSearchParams(window.location.search);
        const id = urlParams.get('id');

        // Busca a notícia no arquivo dados.js
        // Usamos == (dois iguais) porque o ID da URL vem como texto e o do objeto pode ser número
        const noticiaSelecionada = noticias.find(n => n.id == id);

        if (noticiaSelecionada) {
            document.getElementById('titulo-noticia').innerText = noticiaSelecionada.titulo;
            document.getElementById('cat-noticia').innerText = noticiaSelecionada.categoria;
            document.getElementById('corpo-noticia').innerText = noticiaSelecionada.conteudo;
            
            const imgElement = document.getElementById('img-noticia');
            if (noticiaSelecionada.imagem) {
                imgElement.src = noticiaSelecionada.imagem;
                imgElement.classList.remove('d-none');
            }

            document.title = noticiaSelecionada.titulo + " - Voz do Estudante";
        } else {
            document.getElementById('titulo-noticia').innerText = "Vixe! Notícia não encontrada.";
            document.getElementById('corpo-noticia').innerHTML = "<a href='index.html'>Clique aqui para voltar ao início.</a>";
        }
    </script>
</body>
</html>